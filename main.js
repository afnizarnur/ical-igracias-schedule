(function(){var e,a,t,r,n,i,o;t=require("./config"),n=require("ical-generator"),r=require("http"),i=require("request"),e=n({domain:"afnizarnur.com",name:"Jadwal Kuliah",timezone:"Asia/Jakarta",prodId:{company:"afnizarnur.com",product:"ical-igracias-schedule"}}),a=function(e,a){return e.split(":")[a]},o="https://dashboard.telkomuniversity.ac.id/Modul/apimobile/dataAkademikMahasiswa/getDataAkademikMahasiswa.php?data=jadwal&nim="+t.NIM,i({url:o,json:!0},function(t,r,n){var i,o,s,u,d,c,l,g,m,h;if(!t&&200===r.statusCode)for(l=n[0][0],d=0,c=l.length;d<c;d++)h=l[d],m=new Date,m.setDate(m.getDate()+(8-m.getDay())%7),1!==h.dayid&&m.setDate(m.getDate()+(h.dayid-m.getDay())%7),g=h.starthour,s=h.startend,o=new Date(m.getFullYear(),m.getMonth(),m.getDate(),a(g,0),a(g,1),a(g,2)),i=new Date(m.getFullYear(),m.getMonth(),m.getDate(),a(s,0),a(s,1),a(s,2)),u=e.createEvent({start:o,end:i,summary:h.roomname+" - "+h.subjectname,description:"Kode Dosen "+h.lecturecode,location:h.roomname}),u.repeating({freq:"WEEKLY"})}),r.createServer(function(a,t){e.serve(t)}).listen(3e3,"127.0.0.1",function(){console.log("Server running at http://127.0.0.1:3000/")})}).call(this);