(function(){var e,a,t,r,n,i,o,s;t=require("./config"),n=require("ical-generator"),r=require("http"),i=require("request"),e=n({domain:"afnizarnur.com",name:"Jadwal Kuliah",timezone:"Asia/Jakarta",prodId:{company:"afnizarnur.com",product:"ical-igracias-schedule"}}),a=function(e,a){return e.split(":")[a]},s=function(){return console.log("Generate .ical / calendar files from your iGracias schedule in easy way!")},setTimeout(s,3e3),o="https://dashboard.telkomuniversity.ac.id/Modul/apimobile/dataAkademikMahasiswa/getDataAkademikMahasiswa.php?data=jadwal&nim="+t.NIM,i({url:o,json:!0},function(t,r,n){var i,o,s,u,c,l,d,m,g,h;if(!t&&200===r.statusCode)for(d=n[0][0],c=0,l=d.length;c<l;c++)h=d[c],g=new Date,g.setDate(g.getDate()+(8-g.getDay())%7),1!==h.dayid&&g.setDate(g.getDate()+(h.dayid-g.getDay())%7),m=h.starthour,s=h.startend,o=new Date(g.getFullYear(),g.getMonth(),g.getDate(),a(m,0),a(m,1),a(m,2)),i=new Date(g.getFullYear(),g.getMonth(),g.getDate(),a(s,0),a(s,1),a(s,2)),u=e.createEvent({start:o,end:i,summary:h.roomname+" - "+h.subjectname,description:"Kode Dosen "+h.lecturecode,location:h.roomname}),u.repeating({freq:"WEEKLY"})}),r.createServer(function(a,t){e.serve(t)}).listen(3e3,"127.0.0.1",function(){console.log("Server running at http://127.0.0.1:3000/")})}).call(this);